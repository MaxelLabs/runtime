# Maxellabs 3Då¼•æ“ - USDæ ¼å¼ç¤ºä¾‹

æœ¬ç›®å½•åŒ…å«äº†åŸºäºOpenUSDæ ‡å‡†çš„Maxellabs 3Då¼•æ“ç¤ºä¾‹æ–‡ä»¶ï¼Œå±•ç¤ºäº†å¼•æ“çš„å„ç§åŠŸèƒ½å’Œç‰¹æ€§ã€‚

## ğŸ“ ç¤ºä¾‹æ–‡ä»¶

### ğŸ”º åŸºç¡€å‡ ä½•ä½“
- **`triangle.usda`** - åŸºç¡€ä¸‰è§’å½¢å‡ ä½•ä½“ç¤ºä¾‹
  - æ ‡å‡†USD Meshæ ¼å¼
  - PBRæè´¨ç³»ç»Ÿ
  - åŠ¨ç”»å’Œäº¤äº’é…ç½®
  - ç‰©ç†å±æ€§è®¾ç½®

### ğŸ¨ è®¾è®¡ç³»ç»Ÿ
- **`design.usda`** - å®Œæ•´çš„UIè®¾è®¡ç³»ç»Ÿç¤ºä¾‹
  - ç»Ÿä¸€çš„é¢œè‰²ç³»ç»Ÿå’Œå­—ä½“ç³»ç»Ÿ
  - ç»„ä»¶åº“ï¼ˆæŒ‰é’®ã€å¡ç‰‡ã€è¾“å…¥æ¡†ã€æ¨¡æ€æ¡†ï¼‰
  - å›¾æ ‡åº“å’Œæ ·å¼åº“
  - ä¸»é¢˜ç³»ç»Ÿï¼ˆæ˜äº®/æš—é»‘ä¸»é¢˜ï¼‰
  - å¸ƒå±€ç³»ç»Ÿï¼ˆç½‘æ ¼ã€å¼¹æ€§ç›’ã€å †æ ˆï¼‰
  - åŠ¨ç”»å’Œå¾®äº¤äº’
  - æ— éšœç¢å’Œå“åº”å¼è®¾è®¡

### ğŸ“ æ–‡æœ¬æ¸²æŸ“
- **`text.usda`** - 3Dæ–‡æœ¬æ¸²æŸ“ç³»ç»Ÿç¤ºä¾‹
  - åŸºç¡€3Dæ–‡æœ¬ï¼ˆæ ‡é¢˜ã€å‰¯æ ‡é¢˜ï¼‰
  - æ–‡æœ¬æ•ˆæœï¼ˆå‘å…‰ã€è½®å»“ã€æ¸å˜ï¼‰
  - åŠ¨ç”»æ–‡æœ¬ï¼ˆæ‰“å­—æœºæ•ˆæœã€æ³¢æµªåŠ¨ç”»ï¼‰
  - å¯Œæ–‡æœ¬æ”¯æŒï¼ˆç²—ä½“ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€é“¾æ¥ï¼‰
  - è·¯å¾„æ–‡æœ¬ï¼ˆæ›²çº¿æ–‡æœ¬ï¼‰
  - äº¤äº’å¼æ–‡æœ¬
  - å¤šç§æè´¨å’Œå…‰ç…§æ•ˆæœ

### ğŸ® ç²¾çµåŠ¨ç”»
- **`sprites.usda`** - 2Dç²¾çµåŠ¨ç”»ç³»ç»Ÿç¤ºä¾‹
  - è§’è‰²åŠ¨ç”»ï¼ˆç©å®¶ã€æ•Œäººï¼‰
  - å›¾é›†ç®¡ç†å’Œå¸§åŠ¨ç”»
  - ç‰¹æ•ˆç²¾çµï¼ˆçˆ†ç‚¸ã€é“å…·ï¼‰
  - UIç²¾çµï¼ˆè¡€æ¡ã€æŒ‰é’®ï¼‰
  - å¹³é“ºç²¾çµï¼ˆèƒŒæ™¯ã€å¹³å°ï¼‰
  - ä¹å®«æ ¼æ‹‰ä¼¸
  - çŠ¶æ€æœºå’ŒAIè¡Œä¸º

### âœ¨ ç²’å­ç³»ç»Ÿ
- **`particles.usda`** - ç«ç„°ç²’å­ç³»ç»Ÿç¤ºä¾‹
  - GPUç²’å­è®¡ç®—
  - ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - çº¹ç†åŠ¨ç”»
  - ç‰©ç†æ¨¡æ‹Ÿ
  - éŸ³é¢‘é›†æˆ

### ğŸ“Š æ•°æ®å¯è§†åŒ–
- **`chart.usda`** - 3DæŸ±çŠ¶å›¾è¡¨ç¤ºä¾‹
  - æ•°æ®é©±åŠ¨çš„å‡ ä½•ä½“ç”Ÿæˆ
  - äº¤äº’å¼å›¾è¡¨
  - åŠ¨ç”»è¿‡æ¸¡
  - åæ ‡è½´å’Œå›¾ä¾‹

### ğŸŒ å®Œæ•´åœºæ™¯
- **`scene.usda`** - ç»¼åˆåœºæ™¯ç¤ºä¾‹
  - æ•´åˆæ‰€æœ‰åŠŸèƒ½æ¨¡å—
  - å®Œæ•´çš„å…‰ç…§ç³»ç»Ÿ
  - ç›¸æœºæ§åˆ¶
  - åå¤„ç†æ•ˆæœ
  - éŸ³é¢‘å’Œç‰©ç†ç³»ç»Ÿ

## ğŸ”§ ç»Ÿä¸€è§„èŒƒç‰¹æ€§

### åŸºç¡€ç±»å‹ç³»ç»Ÿ
æ‰€æœ‰ç¤ºä¾‹éƒ½åŸºäºç»Ÿä¸€çš„åŸºç¡€ç±»å‹ç³»ç»Ÿï¼ˆ`packages/specification/src/core/common.ts`ï¼‰ï¼š

- **ç»Ÿä¸€çš„æ··åˆæ¨¡å¼** - `BlendMode` æšä¸¾æ¶µç›–æ‰€æœ‰æ¸²æŸ“éœ€æ±‚
- **æ ‡å‡†åŒ–å˜æ¢** - `Transform` æ¥å£æ”¯æŒä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾
- **ç»Ÿä¸€é¢œè‰²ç³»ç»Ÿ** - `Color` æ¥å£æ”¯æŒRGBAå’ŒHSL
- **åŠ¨ç”»å±æ€§** - `AnimationProperties` ç»Ÿä¸€åŠ¨ç”»é…ç½®
- **äº¤äº’å±æ€§** - `InteractionProperties` ç»Ÿä¸€äº¤äº’è¡Œä¸º
- **æè´¨å±æ€§** - `MaterialProperties` ç»Ÿä¸€æè´¨é…ç½®
- **æ€§èƒ½é…ç½®** - `PerformanceConfig` ç»Ÿä¸€æ€§èƒ½è®¾ç½®

### USDæ ‡å‡†å…¼å®¹
- åŸºäºOpenUSD 1.0æ ‡å‡†
- ä½¿ç”¨æ ‡å‡†USDæ•°æ®ç±»å‹ï¼ˆ`point3f`, `color4f`, `matrix4d`ç­‰ï¼‰
- æ”¯æŒUSDç»„åˆå¼§ï¼ˆreferences, payloads, variantsï¼‰
- æ ‡å‡†USDå‡ ä½•ä½“ç±»å‹ï¼ˆMesh, Points, Curvesç­‰ï¼‰

### Maxellabsæ‰©å±•
- ä½¿ç”¨ `maxellabs:` å‘½åç©ºé—´å‰ç¼€
- å±‚æ¬¡åŒ–å±æ€§å‘½åçº¦å®š
- è·¨æ¨¡å—ä¸€è‡´çš„é…ç½®æ ¼å¼
- å¼•æ“ç‰¹å®šçš„ä¼˜åŒ–å’ŒåŠŸèƒ½

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. ç›´æ¥åŠ è½½
```typescript
import { UsdStage } from '@maxellabs/usd';

// åŠ è½½ä¸‰è§’å½¢ç¤ºä¾‹
const stage = UsdStage.open('./triangle.usda');
const triangle = stage.getPrimAtPath('/Triangle');

// åŠ è½½è®¾è®¡ç³»ç»Ÿ
const designStage = UsdStage.open('./design.usda');
const designSystem = designStage.getPrimAtPath('/DesignSystem');
```

### 2. å¼•ç”¨ç»„åˆ
```usda
#usda 1.0

def Scope "MyScene"
{
    def "Triangle" (
        references = @./triangle.usda@</Triangle>
    )
    {
        double3 xformOp:translate = (0, 0, 0)
    }
    
    def "Particles" (
        references = @./particles.usda@</ParticleSystem>
    )
    {
        double3 xformOp:translate = (5, 0, 0)
    }
}
```

### 3. å˜ä½“é€‰æ‹©
```usda
def "MyTriangle" (
    references = @./triangle.usda@</Triangle>
)
{
    variantSet "material" = {
        "metal" {
            rel material:binding = </Materials/MetalMaterial>
        }
        "glass" {
            rel material:binding = </Materials/GlassMaterial>
        }
    }
}
```

## ğŸ›  å·¥å…·æ”¯æŒ

### USDå·¥å…·é“¾
- **usdview** - æŸ¥çœ‹å’Œæ£€æŸ¥USDæ–‡ä»¶
- **usdcat** - è½¬æ¢å’Œåˆå¹¶USDæ–‡ä»¶
- **usdchecker** - éªŒè¯USDæ–‡ä»¶æ ¼å¼

### Maxellabså·¥å…·
- **å¼•æ“åŠ è½½å™¨** - ç›´æ¥åŠ è½½USDæ–‡ä»¶åˆ°å¼•æ“
- **æè´¨ç¼–è¾‘å™¨** - å¯è§†åŒ–ç¼–è¾‘æè´¨å±æ€§
- **åŠ¨ç”»ç¼–è¾‘å™¨** - ç¼–è¾‘åŠ¨ç”»æ—¶é—´çº¿
- **åœºæ™¯ç¼–è¾‘å™¨** - ç»„åˆå’Œå¸ƒå±€åœºæ™¯å…ƒç´ 

## ğŸ“‹ æœ€ä½³å®è·µ

### 1. å‘½åçº¦å®š
- ä½¿ç”¨PascalCaseå‘½åPrim
- ä½¿ç”¨camelCaseå‘½åå±æ€§
- ä½¿ç”¨ `maxellabs:` å‰ç¼€æ‰©å±•å±æ€§

### 2. æ–‡ä»¶ç»„ç»‡
- å°†å¤æ‚åœºæ™¯æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶
- ä½¿ç”¨referencesç»„åˆèµ„äº§
- ä¿æŒæ–‡ä»¶å¤§å°åˆç†ï¼ˆ< 10MBï¼‰

### 3. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨é€‚å½“çš„ç»†èŠ‚å±‚æ¬¡ï¼ˆLODï¼‰
- å¯ç”¨å®ä¾‹åŒ–æ¸²æŸ“
- åˆç†è®¾ç½®æ¸²æŸ“é¡ºåº

### 4. ç‰ˆæœ¬æ§åˆ¶
- ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·
- è®°å½•é‡è¦å˜æ›´
- ä¿æŒå‘åå…¼å®¹æ€§

## ğŸ”„ è¿ç§»æŒ‡å—

### ä»JSONæ ¼å¼è¿ç§»
æ—§çš„JSONæ ¼å¼ç¤ºä¾‹å·²è¢«åºŸå¼ƒï¼Œè¯·ä½¿ç”¨æ–°çš„USDæ ¼å¼ï¼š

```typescript
// æ—§æ–¹å¼ (å·²åºŸå¼ƒ)
const triangleData = await fetch('./tri.json').then(r => r.json());

// æ–°æ–¹å¼ (æ¨è)
const stage = UsdStage.open('./triangle.usda');
const triangle = stage.getPrimAtPath('/Triangle');
```

### æ›´æ–°æè´¨ç³»ç»Ÿ
```typescript
// æ—§æ–¹å¼ - å¤šç§æ··åˆæ¨¡å¼å®šä¹‰
BlendingMode.Normal
BlendMode.Multiply  
DesignBlendMode.Screen

// æ–°æ–¹å¼ - ç»Ÿä¸€æ··åˆæ¨¡å¼
import { BlendMode } from '@maxellabs/specification/core/common';
BlendMode.Normal
BlendMode.Multiply
BlendMode.Screen
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [OpenUSDå®˜æ–¹æ–‡æ¡£](https://openusd.org/release/index.html)
- [Maxellabså¼•æ“æ–‡æ¡£](../../../docs/)
- [USDæ ¼å¼è§„èŒƒ](https://openusd.org/release/spec_usd.html)
- [æè´¨ç³»ç»ŸæŒ‡å—](../src/rendering/)
- [åŠ¨ç”»ç³»ç»ŸæŒ‡å—](../src/animation/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. éµå¾ªUSDæ ‡å‡†å’ŒMaxellabsç¼–ç è§„èŒƒ
2. æ·»åŠ å®Œæ•´çš„æ–‡æ¡£å’Œæ³¨é‡Š
3. åŒ…å«æ€§èƒ½å’Œå…¼å®¹æ€§æµ‹è¯•
4. æ›´æ–°ç›¸å…³ç¤ºä¾‹å’Œæ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬ç¤ºä¾‹æ–‡ä»¶éµå¾ªMaxellabs 3Då¼•æ“çš„è®¸å¯è¯æ¡æ¬¾ã€‚ 